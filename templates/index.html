<html lang="en"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Blockstream Blind Oracle</title>
    <link rel="stylesheet" href="./statics/chx2fbn.css">
    <link rel="stylesheet" href="./statics/styleguide.min.css">
    <link rel="stylesheet" href="./statics/main.css">
    <link rel="icon" href="./statics/favicon.jpeg">
  </head>

  <body>
    <header>
      <a class="logo" href="https://blockstream.com/jade/">
        <img src="./statics/jade-logo.svg" alt="Jade" class="logo-img">
        <span class="logo-text">
            <i class="logo-text_title">Jade Blind Oracle</i>
            <i class="logo-text_subtitle">
                <svg width="10" height="10" viewBox="0 0 10 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="5" cy="5" r="5" fill="#33DB95"/>
                </svg>
                 Your Personal Blind Oracle
            </i>
        </span>
      </a>
    </header>
    <main>
      <div class="container">
        <div>
            <svg width="48" height="36" viewBox="0 0 48 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M20.5547 26.9255C20.5547 28.1981 20.5547 29.4707 20.5547 30.7433C20.5335 33.1082 18.6943 35.102 16.2209 34.9959C14.9208 34.9323 13.6101 34.9959 12.31 34.9959C10.7985 34.9959 10.0058 34.2112 9.98462 32.6628C9.96348 30.7539 9.98462 28.845 9.98462 26.9361" stroke="#00B45A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M1 20.1913C16.1363 20.0322 31.3149 20.0322 46.4512 20.1913" stroke="#00B45A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M10.0902 13.5631C19.1804 13.8282 28.2812 13.8282 37.3609 13.5631" stroke="#00B45A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M26.8966 26.9255C26.8966 28.1981 26.8966 29.4707 26.8966 30.7433C26.9177 33.1082 28.7569 35.102 31.2303 34.9959C32.5304 34.9323 33.8411 34.9959 35.1412 34.9959C36.6528 34.9959 37.4455 34.2112 37.4666 32.6628C37.4878 30.7539 37.4666 28.845 37.4666 26.9361" stroke="#00B45A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M39.2635 19.714C37.0438 13.4146 37.5935 -2.20668 27.33 1.60054C27.108 1.70659 26.886 1.81264 26.6641 1.89748C25.0046 2.57621 23.1548 2.49137 21.4847 1.85506C9.73085 -2.60968 11.0098 11.4633 8.18762 19.714" stroke="#00B45A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M40.1092 26.5543C29.1797 26.0983 18.3666 26.0453 7.34204 26.5543" stroke="#00B45A" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </div> 
        <h1 class="title" id="title">Personal Blind Oracle</h1>
        <h3 class="subtitle">Setup a personal blind oracle with Umbrel and protect your Jade from physical attacks</h3>
        <div class="qrcode">
            <img src="qrcode?urla={{urla}}&porta={{porta}}&urlb={{urlb}}&portb={{portb}}&cert={{cert}}" alt="qrcode" />
        </div>
        <div class="info">
            <div class="info-row">
                <div>URL:</div>
                <div data-original="{{urla}}:{{porta}}" class="truncate">{{urla}}:{{porta}}</div>
                <button class="copy-button">
                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.5625 2.92188H7.5625C7.42575 2.92188 7.2946 2.9762 7.1979 3.0729C7.1012 3.1696 7.04688 3.30075 7.04688 3.4375V7.04688H3.4375C3.30075 7.04688 3.1696 7.1012 3.0729 7.1979C2.9762 7.2946 2.92188 7.42575 2.92188 7.5625V18.5625C2.92188 18.6993 2.9762 18.8304 3.0729 18.9271C3.1696 19.0238 3.30075 19.0781 3.4375 19.0781H14.4375C14.5743 19.0781 14.7054 19.0238 14.8021 18.9271C14.8988 18.8304 14.9531 18.6993 14.9531 18.5625V14.9531H18.5625C18.6993 14.9531 18.8304 14.8988 18.9271 14.8021C19.0238 14.7054 19.0781 14.5743 19.0781 14.4375V3.4375C19.0781 3.30075 19.0238 3.1696 18.9271 3.0729C18.8304 2.9762 18.6993 2.92188 18.5625 2.92188ZM13.9219 18.0469H3.95312V8.07812H13.9219V18.0469ZM18.0469 13.9219H14.9531V7.5625C14.9531 7.42575 14.8988 7.2946 14.8021 7.1979C14.7054 7.1012 14.5743 7.04688 14.4375 7.04688H8.07812V3.95312H18.0469V13.9219Z" fill="white"/>
                    </svg>                        
                </button>
            </div>
            <div class="info-row">
                <div>URL:</div>
                <div data-original="{{urlb}}:{{portb}}">{{urlb}}:{{portb}}</div>
                <button class="copy-button">
                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.5625 2.92188H7.5625C7.42575 2.92188 7.2946 2.9762 7.1979 3.0729C7.1012 3.1696 7.04688 3.30075 7.04688 3.4375V7.04688H3.4375C3.30075 7.04688 3.1696 7.1012 3.0729 7.1979C2.9762 7.2946 2.92188 7.42575 2.92188 7.5625V18.5625C2.92188 18.6993 2.9762 18.8304 3.0729 18.9271C3.1696 19.0238 3.30075 19.0781 3.4375 19.0781H14.4375C14.5743 19.0781 14.7054 19.0238 14.8021 18.9271C14.8988 18.8304 14.9531 18.6993 14.9531 18.5625V14.9531H18.5625C18.6993 14.9531 18.8304 14.8988 18.9271 14.8021C19.0238 14.7054 19.0781 14.5743 19.0781 14.4375V3.4375C19.0781 3.30075 19.0238 3.1696 18.9271 3.0729C18.8304 2.9762 18.6993 2.92188 18.5625 2.92188ZM13.9219 18.0469H3.95312V8.07812H13.9219V18.0469ZM18.0469 13.9219H14.9531V7.5625C14.9531 7.42575 14.8988 7.2946 14.8021 7.1979C14.7054 7.1012 14.5743 7.04688 14.4375 7.04688H8.07812V3.95312H18.0469V13.9219Z" fill="white"/>
                    </svg>                        
                </button>
            </div>
            <div class="info-row">
                <div>Public key:</div>
                <div data-original="{{pubkey}}"><a href="server_public_key.pub" class="truncate">{{pubkey}}</a></div>
                <button class="copy-button">
                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.5625 2.92188H7.5625C7.42575 2.92188 7.2946 2.9762 7.1979 3.0729C7.1012 3.1696 7.04688 3.30075 7.04688 3.4375V7.04688H3.4375C3.30075 7.04688 3.1696 7.1012 3.0729 7.1979C2.9762 7.2946 2.92188 7.42575 2.92188 7.5625V18.5625C2.92188 18.6993 2.9762 18.8304 3.0729 18.9271C3.1696 19.0238 3.30075 19.0781 3.4375 19.0781H14.4375C14.5743 19.0781 14.7054 19.0238 14.8021 18.9271C14.8988 18.8304 14.9531 18.6993 14.9531 18.5625V14.9531H18.5625C18.6993 14.9531 18.8304 14.8988 18.9271 14.8021C19.0238 14.7054 19.0781 14.5743 19.0781 14.4375V3.4375C19.0781 3.30075 19.0238 3.1696 18.9271 3.0729C18.8304 2.9762 18.6993 2.92188 18.5625 2.92188ZM13.9219 18.0469H3.95312V8.07812H13.9219V18.0469ZM18.0469 13.9219H14.9531V7.5625C14.9531 7.42575 14.8988 7.2946 14.8021 7.1979C14.7054 7.1012 14.5743 7.04688 14.4375 7.04688H8.07812V3.95312H18.0469V13.9219Z" fill="white"/>
                    </svg>                        
                </button>
            </div>
            <div class="info-row">
                <div>Certificate hash:</div>
                <div data-original="{{cert}}">{{cert}}</a></div>
                <button class="copy-button">
                    <svg width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M18.5625 2.92188H7.5625C7.42575 2.92188 7.2946 2.9762 7.1979 3.0729C7.1012 3.1696 7.04688 3.30075 7.04688 3.4375V7.04688H3.4375C3.30075 7.04688 3.1696 7.1012 3.0729 7.1979C2.9762 7.2946 2.92188 7.42575 2.92188 7.5625V18.5625C2.92188 18.6993 2.9762 18.8304 3.0729 18.9271C3.1696 19.0238 3.30075 19.0781 3.4375 19.0781H14.4375C14.5743 19.0781 14.7054 19.0238 14.8021 18.9271C14.8988 18.8304 14.9531 18.6993 14.9531 18.5625V14.9531H18.5625C18.6993 14.9531 18.8304 14.8988 18.9271 14.8021C19.0238 14.7054 19.0781 14.5743 19.0781 14.4375V3.4375C19.0781 3.30075 19.0238 3.1696 18.9271 3.0729C18.8304 2.9762 18.6993 2.92188 18.5625 2.92188ZM13.9219 18.0469H3.95312V8.07812H13.9219V18.0469ZM18.0469 13.9219H14.9531V7.5625C14.9531 7.42575 14.8988 7.2946 14.8021 7.1979C14.7054 7.1012 14.5743 7.04688 14.4375 7.04688H8.07812V3.95312H18.0469V13.9219Z" fill="white"/>
                    </svg>                        
                </button>
            </div>
            <div class="info-row">
                <div>Managed pins:</div>
                <div>{{keysno}}</div>
            </div>
        </div>
        <div class="setup-btn-container">
            <a style="text-align: center" class="g-btn green-btn" href="https://help.blockstream.com/hc/en-us/articles/18904765931161">Setup Guide</a>
        </div>
           
    
      </div>
    </main>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            function copyTextToClipboard(text) {
                var textArea = document.createElement("textarea");
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('Copy');
                textArea.remove();
            }

            document.querySelectorAll('.info .info-row .copy-button').forEach(function(button) {
                button.addEventListener('click', function() {
                    var textToCopy = this.previousElementSibling.getAttribute('data-original') || this.previousElementSibling.innerText;
                    copyTextToClipboard(textToCopy);
                });
            });
        });

        function truncateMiddle(element, maxLength) {
            const text = element.getAttribute('data-original') || element.innerText;
            if (text.length <= maxLength) return text;

            const start = text.substring(0, maxLength / 2);
            const end = text.substring(text.length - maxLength / 2);
            return `${start}...${end}`;
        }

        function applyTruncation() {
            const maxWidth = 650;
            const maxLength = 20;

            document.querySelectorAll('.truncate').forEach(el => {
            if (window.innerWidth <= maxWidth) {
                el.innerText = truncateMiddle(el, maxLength);
            } else {
                const originalText = el.getAttribute('data-original');
                if (originalText) el.innerText = originalText;
            }
            });
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.querySelectorAll('.truncate').forEach(el => {
            el.setAttribute('data-original', el.innerText);
            });
            applyTruncation();
        });

        window.addEventListener('resize', applyTruncation);
    </script>
</body>
</html>